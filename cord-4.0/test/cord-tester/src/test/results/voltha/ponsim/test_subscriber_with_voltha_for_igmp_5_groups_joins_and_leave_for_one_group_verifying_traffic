ubuntu@cord-rs-s8:~/cord-tester/src/test/setup$ sudo ./cord-test.py run -m manifest-ponsim.json -t voltha:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic
# Host [172.17.0.2]:8101 found: line 3 type RSA
onoscli: eof exception found
onoscli:     logout

Connection to 172.17.0.2 closed.

result.ok, result.status_code are False and 409
ONOS app cord-config, version 2.0-SNAPSHOT installed
result.ok, result.status_code are False and 409
ONOS app aaa, version 2.0-SNAPSHOT installed
result.ok, result.status_code are False and 409
ONOS app igmp, version 2.0-SNAPSHOT installed
Controller IP [u'172.17.0.2'], Test type voltha:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic
Installing cord tester ONOS app /home/ubuntu/cord-tester/src/test/apps/ciena-cordigmp-multitable-3.0-SNAPSHOT.oar
result.ok, result.status_code are False and 409
WARNING: The DOCKER_HOST_IP variable is not set. Defaulting to a blank string.
compose_fluentd_1 is up-to-date
compose_consul_1 is up-to-date
compose_zookeeper_1 is up-to-date
compose_registrator_1 is up-to-date
compose_kafka_1 is up-to-date
IP 172.18.0.2 for service consul
IP 172.18.0.5 for service kafka
IP 172.18.0.4 for service zookeeper
IP 172.18.0.6 for service registrator
IP 172.18.0.3 for service fluentd
Chameleon voltha sevice is already running. Skipped start
VOLTHA core is already running. Skipped start
VOLTHA ofagent is already running. Skipped start
PONSIM already running. Skipped start
Radius server running with IP 172.17.0.3
Running ['voltha:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic'] tests across 1 containers in parallel
Modifying scapy tool files before running a test: ['voltha:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic']
Running tests: ['voltha:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic']
WARNING: No route found for IPv6 destination :: (no default route?)
Connecting to controller at 172.17.0.2
onoscli: Trying to connect to 172.17.0.2
# Host [172.17.0.2]:8101 found: line 1 type RSA
Spawning pexpect for ip 172.17.0.2
ssh connection asked for password, gave password
Command 'summary -j' sent to onoscli.
onoscli: eof exception found
onoscli:     logout

Connection to 172.17.0.2 closed.

Installing the multi table app /root/test/src/test/voltha/../apps/ciena-cordigmp-multitable-3.0-SNAPSHOT.oar for subscriber test
Test Method: ... Enabling ponsim olt
Pre-provisioning ponsim_olt with address 172.17.0.1:50060
Enabling device 6d94a5a49527
Checking operational status for device 6d94a5a49527
Installing OLT app
Adding subscribers through OLT app
Adding group 225.0.0.1
Adding group 225.0.0.2
Adding group 225.0.0.3
Adding group 225.0.0.4
Adding group 225.0.0.5
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Packet received for group 225.0.0.1, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d3 src=1.2.3.4 dst=225.0.0.1 options=[] |<Raw  load='28312.012086531' |>>>>
Packet received in 2724053.106 usecs for group 225.0.0.1 after join
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Packet received for group 225.0.0.2, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d2 src=1.2.3.4 dst=225.0.0.2 options=[] |<Raw  load='28325.204115582' |>>>>
Packet received in 6089229.310 usecs for group 225.0.0.2 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Packet received for group 225.0.0.3, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d1 src=1.2.3.4 dst=225.0.0.3 options=[] |<Raw  load='28344.748141759' |>>>>
Packet received in 7441608.994 usecs for group 225.0.0.3 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Subscriber on port veth0 timed out
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.5, channel 4
Packet received for group 225.0.0.5, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95cf src=1.2.3.4 dst=225.0.0.5 options=[] |<Raw  load='28379.132114277' |>>>>
Packet received in 2630788.196 usecs for group 225.0.0.5 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Packet received for group 225.0.0.1, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d3 src=1.2.3.4 dst=225.0.0.1 options=[] |<Raw  load='28393.892107487' |>>>>
Packet received in 2659734.116 usecs for group 225.0.0.1 after join
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Packet received for group 225.0.0.2, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d2 src=1.2.3.4 dst=225.0.0.2 options=[] |<Raw  load='28403.576125853' |>>>>
Packet received in 2629052.085 usecs for group 225.0.0.2 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Packet received for group 225.0.0.3, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d1 src=1.2.3.4 dst=225.0.0.3 options=[] |<Raw  load='28418.256111493' |>>>>
Packet received in 2563747.333 usecs for group 225.0.0.3 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Packet received for group 225.0.0.4, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d0 src=1.2.3.4 dst=225.0.0.4 options=[] |<Raw  load='28433.020127298' |>>>>
Packet received in 2638333.265 usecs for group 225.0.0.4 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.5, channel 4
Packet received for group 225.0.0.5, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=34 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d0 src=1.2.3.4 dst=225.0.0.5 options=[] |<Raw  load='28447.68811653' |>>>>
Packet received in 2578036.697 usecs for group 225.0.0.5 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Packet received for group 225.0.0.1, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d3 src=1.2.3.4 dst=225.0.0.1 options=[] |<Raw  load='28462.456127131' |>>>>
Packet received in 2638852.107 usecs for group 225.0.0.1 after join
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Packet received for group 225.0.0.2, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d2 src=1.2.3.4 dst=225.0.0.2 options=[] |<Raw  load='28472.036110591' |>>>>
Packet received in 2618532.062 usecs for group 225.0.0.2 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.1, channel 0
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Packet received for group 225.0.0.3, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=34 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d2 src=1.2.3.4 dst=225.0.0.3 options=[] |<Raw  load='28486.82808718' |>>>>
Packet received in 2574205.690 usecs for group 225.0.0.3 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.2, channel 1
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Packet received for group 225.0.0.4, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=35 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d0 src=1.2.3.4 dst=225.0.0.4 options=[] |<Raw  load='28501.540146584' |>>>>
Packet received in 2633957.728 usecs for group 225.0.0.4 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.3, channel 2
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
All subscribers have joined the channel
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.5, channel 4
Packet received for group 225.0.0.5, subscriber, port veth0 showing full packet <bound method Ether.show of <Ether  dst=01:00:5e:00:01:01 src=02:88:b4:e4:90:77 type=0x800 |<IP  version=4L ihl=5L tos=0x0 len=34 id=1 flags= frag=0L ttl=64 proto=hopopt chksum=0x95d0 src=1.2.3.4 dst=225.0.0.5 options=[] |<Raw  load='28516.30416742' |>>>>
Packet received in 2625209.951 usecs for group 225.0.0.5 after join
Subscriber on port veth0 checking data traffic receiving from group 225.0.0.4, channel 3
Subscriber on port veth0 timed out
Subscriber on port veth0 not received 0 packets
This Subscriber is tested for multiple service eligibility
Deleted subscriber for device of:0000000000000001 on port  128
Deleted subscriber for device of:0000000000000001 on port  129
Deleted subscriber for device of:0000000000000001 on port  130
Deleted subscriber for device of:0000000000000001 on port  131
Deleted subscriber for device of:0000000000000001 on port  132
Deleted subscriber for device of:0000000000000001 on port  133
Deleted subscriber for device of:0000000000000001 on port  134
Deleted subscriber for device of:0000000000000001 on port  135
Deleted subscriber for device of:0000000000000001 on port  136
Deleted subscriber for device of:0000000000000001 on port  137
Deleted subscriber for device of:0000000000000001 on port  138
Disabling device 6d94a5a49527
Deleting device 6d94a5a49527
Uninstalling OLT app
ok
Installing back the cord igmp app /root/test/src/test/voltha/../apps/ciena-cordigmp-3.0-SNAPSHOT.oar for subscriber test on exit

----------------------------------------------------------------------
Ran 1 test in 303.426s

OK
Test volthaTest.py:voltha_exchange.test_subscriber_with_voltha_for_igmp_5_groups_joins_verifying_traffic Success
Done running tests
ubuntu@cord-rs-s8:~/cord-tester/src/test/setup$
ubuntu@cord-rs-s8:~/cord-tester/src/test/setup$

